<!DOCTYPE html>
<html lang="en">
<head>
	<title>Conditionally adaptive CSS</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="../shower/themes/ribbon/styles/styles.css">
	<script defer src="../shower/shower.js"></script>
	<script defer src="https://ohno.pepelsbey.dev/script.js" data-site="AQPFXSVA"></script>
</head>
<body class="shower list">
	<header class="caption">
		<h1>Conditionally adaptive CSS</h1>
		<p>Vadim Makeev</p>
	</header>

	<section class="slide black clear" style="
		background-image: url(pictures/covers/intro.webp);
		background-position: center;
		background-size: cover;
		image-rendering: pixelated;
	">
		<h2 class="shout" style="
			color: white;
			text-shadow: 10px 10px 0 rgba(0 0 0 / 0.4);
			font-size: 120px;
		">
			Conditionally<br>
			adaptive CSS
		</h2>
		<p class="copyright white">
			<a href="https://kldpxl.tumblr.com/post/687225479681490944/sunny-afternoon">
				© Khaled
			</a>
		</p>
	</section>

	<section class="slide clear">
		<img
			class="cover"
			src="pictures/gde/group.jpg"
			alt="GDE group photo."
		>
		<img
			class="place next" width="64"
			style="margin: -90px 0 0 122px"
			src="pictures/gde/pin.svg"
			alt=""
		>
	</section>

	<section class="slide clear">
		<ul class="place" style="font-size: 50px">
			<li>HTML</li>
			<li>CSS</li>
			<li>JavaScript</li>
		</ul>
	</section>

	<section class="slide clear">
		<h2 class="shout">
			🏎 CSS 💨
		</h2>
	</section>

	<section class="slide">
		<h2>CSS</h2>
		<pre class="next">
			<code><mark>@import</mark> 'header.css';</code>
			<code><mark>@import</mark> 'navigation.css';</code>
			<code><mark>@import</mark> 'search.css';</code>
		</pre>
		<pre class="next">
			<code><mark>import</mark> css from 'content.css';</code>
			<code><mark>import</mark> css from 'gallery.css';</code>
			<code><mark>import</mark> css from 'sidebar.css';</code>
		</pre>
		<img
			class="place next"
			style="margin: -50px 0 0 260px"
			src="pictures/packers/gulp.svg"
			width="100"
			alt="Gulp logo."
		>
		<img
			class="place next"
			style="margin: 160px 0 0 180px"
			src="pictures/packers/postcss.svg"
			width="180"
			alt="PostCSS logo."
		>
		<img
			class="place next"
			style="margin: -140px 0 0 100px"
			src="pictures/packers/webpack.svg"
			width="200"
			alt="Webpack logo."
		>
		<img
			class="place next"
			style="margin: 50px 0 0 410px"
			src="pictures/packers/vite.svg"
			width="180"
			alt="PostCSS logo."
		>
	</section>

	<section class="slide">
		<h2>Mobile first</h2>
<pre class="place left next" style="margin: -55px 0 0 55px"><code><mark>.header</mark> {
	color: <mark style="background-color: tomato">tomato</mark>;
}</code></pre>
<pre class="place bottom next" style="margin: 0 0 36px -135px"><code>@media (<mark>min-width: 768px</mark>) {
	.header {
		color: <mark style="background-color: plum">plum</mark>;
	}
}</code></pre>
<pre class="place right next" style="margin: 0 40px 0 0"><code>@media (<mark>min-width: 1024px</mark>) {
	.header {
		color: <mark style="background-color: wheat">wheat</mark>;
	}
}</code></pre>
	</section>

	<section class="slide">
		<h2>Desktop first</h2>
<pre class="place left next" style="margin: -55px 0 0 55px"><code><mark>.header</mark> {
	color: <mark style="background-color: wheat">wheat</mark>;
}</code></pre>
<pre class="place bottom next" style="margin: 0 0 36px -135px"><code>@media (<mark>max-width: 1024px</mark>)
	.header {
		color: <mark style="background-color: plum">plum</mark>;
	}
}</code></pre>
<pre class="place right next" style="margin: 0 40px 0 0"><code>@media (<mark>max-width: 768px</mark>)
	.header {
		color: <mark style="background-color: tomato">tomato</mark>;
	}
}</code></pre>
	</section>

	<section class="slide" id="index">
		<h2 class="place next">
			index.css
		</h2>
		<style>
			#index .next {
				visibility: visible;
			}

			#index .next.active {
				transition: font-size 0.3s;
				font-size: 330px;
			}
		</style>
	</section>

	<section class="slide clear">
		<h2 class="shout">
			🐢 CSS 💨
		</h2>
	</section>

	<section class="slide clear">
		<img
			class="cover"
			src="pictures/gov-uk.png"
			alt="GOV.UK main page."
		>
	</section>

	<section class="slide clear">
		<h2 class="shout next">445 KB</h2>
	</section>

	<section class="slide clear">
		<ul class="place" style="font-size: 50px; white-space: nowrap">
			<li>
				edefe0a8.css — 177.65 KB
				<span class="next">🚩</span>
			</li>
			<li>
				9618e981.css — 5.90 KB
			</li>
			<li>
				18950d6c.css — 201.04 KB
				<span class="next">🚩</span>
			</li>
			<li>
				59083555.css — 60.93 KB
			</li>
		</ul>
	</section>

	<section class="slide clear">
		<h2 class="shout">How? 😧</h2>
	</section>

	<section class="slide">
		<h2>GOV.UK</h2>
		<pre>
			<code>&lt;link rel="stylesheet" href="193bc3ff.css"&gt;</code>
			<code>&lt;link rel="stylesheet" href="ed2e2626.css" <mark>media="print"</mark>&gt;</code>
			<code>&lt;link rel="stylesheet" href="70bb8033.css"&gt;</code>
			<code>&lt;link rel="stylesheet" href="9618e981.css" <mark>media="print"</mark>&gt;</code>
		</pre>
		<p>Non-matching media makes CSS a <strong>low-priority</strong> resource</p>
	</section>

	<section class="slide clear">
		<a href="https://xkcd.com/what-if/">
			<img
				class="place"
				src="pictures/what-if/logo.png"
				width="700"
				alt="“What if?” book logo."
			>
		</a>
	</section>

	<section class="slide clear">
		<img
			class="cover"
			src="pictures/what-if/ball.png"
			alt="Comix from the “What if?” book."
		>
		<p class="copyright">
			<a href="https://xkcd.com/what-if/">
				© what if?: the book
			</a>
		</p>
	</section>

	<section class="slide">
		<h2>What if…</h2>
		<pre>
			<code>&lt;link rel="stylesheet" href="<mark>base.css</mark>"&gt;</code>
			<code>&lt;link rel="stylesheet" href="<mark>mobile.css</mark>"&gt;</code>
			<code>&lt;link rel="stylesheet" href="<mark>tablet.css</mark>"&gt;</code>
			<code>&lt;link rel="stylesheet" href="<mark>desktop.css</mark>"&gt;</code>
		</pre>
	</section>

	<section class="slide clear">
		<h2 class="shout">
			Nope 😔
		</h2>
	</section>

	<section class="slide">
		<h2>What if…</h2>
		<pre>
			<code>&lt;link rel="stylesheet" href="base.css"&gt;</code>
			<code>&lt;link rel="stylesheet" href="mobile.css"</code>
			<code>      media="<mark>(max-width: 767px)</mark>"&gt;</code>
			<code>&lt;link rel="stylesheet" href="tablet.css"</code>
			<code>      media="<mark>(min-width: 768px) and (max-width: 1023px)</mark>"&gt;</code>
			<code>&lt;link rel="stylesheet" href="desktop.css"</code>
			<code>      media="<mark>(min-width: 1024px)</mark>"&gt;</code>
		</pre>
	</section>

	<section class="slide clear">
		<h2 class="shout">
			Nope 😭
		</h2>
	</section>

	<section class="slide black clear">
		<h2 style="
			color: white;
			margin-top: -40px;
		">
			Desktop
		</h2>
		<img
			class="cover"
			src="pictures/network/desktop.png"
			alt="Chrome Network panel with four CSS files loaded in one order."
		>
		<div class="spotlight" style="
			--spotlight-size: 400px;
			--spotlight-top: 0px;
			--spotlight-left: -460px;
		"></div>
	</section>

	<section class="slide black clear">
		<h2 style="
			color: white;
			margin-top: -40px;
		">
			Mobile
		</h2>
		<img
			class="cover"
			src="pictures/network/mobile.png"
			alt="Chrome Network panel with four CSS files loaded in another order."
		>
		<div class="spotlight" style="
			--spotlight-size: 400px;
			--spotlight-top: 0px;
			--spotlight-left: -460px;
		"></div>
	</section>

	<section class="slide clear">
		<h2 class="shout">Oh, wait…</h2>
	</section>

	<section class="slide clear">
		<h2 class="shout">
			It works! 🥳
		</h2>
	</section>

	<section class="slide clear">
		<img
			class="place right"
			style="height: 100%"
			src="pictures/demo/desktop.png"
			alt="Desktop version of the demo with violet backround."
		>
		<img
			class="place next"
			style="height: 100%"
			src="pictures/demo/tablet.png"
			alt="Tablet version of the demo with green backround."
		>
		<img
			class="place next"
			style="height: 100%"
			src="pictures/demo/mobile.png"
			alt="Mobile version of the demo with red backround."
		>
	</section>

	<section class="slide">
		<h2>Base, 91 bytes</h2>
		<pre>
			<code>html, body {</code>
			<code>    height: 100%;</code>
			<code>}</code>
			<code></code>
			<code>body {</code>
			<code>    margin: 0;</code>
			<code>    background-position: center;</code>
			<code>}</code>
		</pre>
	</section>

	<section class="slide">
		<h2>Mobile, 16 KB</h2>
		<pre>
			<code>body {</code>
			<code>    background-color: #ef875d;</code>
			<code class="mark">    background-image: url('data:image/png;base64,…');</code>
			<code>    background-size: 511px 280px;</code>
			<code>}</code>
		</pre>
	</section>

	<section class="slide">
		<ul class="place" style="font-size: 40px">
			<li>base.css — 91 bytes</li>
			<li>mobile.css — 16 KB</li>
			<li>tablet.css — 83 KB</li>
			<li>desktop.css — 275 KB</li>
		</ul>
	</section>

	<section class="slide black clear">
		<svg class="place next" width="1024" height="576" viewBox="0 0 16 9" style="pointer-events: none">
			<line x1="14.42" x2="14.42" y1="0" y2="9" stroke="cyan" stroke-width="0.1"/>
		</svg>
		<img
			class="cover height"
			src="pictures/performance/desktop.png"
			alt="Chrome Performance panel with the waterfall chart for the desktop viewport."
		>
	</section>

	<section class="slide clear">
		<svg class="place" width="1024" height="576" viewBox="0 0 16 9" style="pointer-events: none">
			<line x1="7.15" x2="7.15" y1="0" y2="9" stroke="cyan" stroke-width="0.1"/>
		</svg>
		<img
			class="cover"
			src="pictures/performance/mobile.png"
			alt="Chrome Performance panel with the waterfall chart for the mobile viewport."
		>
	</section>

	<section class="slide black clear">
		<svg class="place" width="1024" height="576" viewBox="0 0 16 9" style="pointer-events: none">
			<line x1="9.45" x2="9.45" y1="0" y2="9" stroke="cyan" stroke-width="0.1"/>
		</svg>
		<img
			class="cover height"
			src="pictures/performance/tablet.png"
			alt="Chrome Performance panel with the waterfall chart for the tablet viewport."
		>
	</section>

	<section class="slide clear">
		<h2 class="shout">It works! 😅</h2>
	</section>

	<section class="slide clear">
		<h2>Almost!</h2>
		<div class="place" style="
			display: flex;
			gap: 20px;
		">
			<img
				class="next"
				src="pictures/browsers/chrome.png"
				width="256"
				alt="Chrome logo."
			>
			<img
				class="next"
				src="pictures/browsers/firefox.png"
				width="256"
				alt="Firefox logo."
			>
			<img
				class="next"
				src="pictures/browsers/safari.png"
				width="256"
				alt="Safari logo."
				style="filter: grayscale(1)"
			>
		</div>
	</section>

	<section class="slide black clear">
		<div class="spotlight next" style="
			--spotlight-size: 240px;
			--spotlight-top: -25px;
			--spotlight-left: -35px;
		"></div>
		<img
			class="cover"
			src="pictures/safari/network.png"
			alt="Safari Network panel with four CSS files."
		>
	</section>

	<section class="slide black clear">
		<div class="spotlight next" style="
			--spotlight-size: 500px;
			--spotlight-top: -70px;
			--spotlight-left: 450px;
		"></div>
		<img
			class="cover"
			src="pictures/safari/timelines.png"
			alt="Safari Timeline panel with the waterfall chart."
		>
	</section>

	<section class="slide black clear">
		<img
			class="cover"
			src="pictures/bugzilla.png"
			alt="WebKit Bugzilla interface with the bug report."
		>
		<img
			class="place bottom right"
			src="pictures/browsers/webkit.png"
			width="160"
			alt="WebKit logo."
			style="margin: 16px"
		>
	</section>

	<section class="slide black clear">
		<svg class="place" width="1024" height="576" viewBox="0 0 16 9" style="pointer-events: none">
			<line x1="10" x2="10" y1="0" y2="9" stroke="cyan" stroke-width="0.1"/>
		</svg>
		<img
			class="cover"
			src="pictures/firefox/performance.png"
			alt="Firefox Performance panel with the waterfall chart."
		>
	</section>

	<section class="slide clear">
		<h2 class="shout" style="font-size: 120px">
			<a href="https://www.npmjs.com/package/slow-static-server">
				slow-static-server
			</a>
		</h2>
	</section>

	<section class="slide clear">
		<a href="https://pepelsbey.github.io/playground/scheme-switcher/">
			<img
				class="cover"
				src="pictures/scheme/light.jpg"
				alt="Sun in the light sky."
			>
		</a>
	</section>

	<section class="slide clear">
		<a href="https://pepelsbey.github.io/playground/scheme-switcher/">
			<img
				class="cover"
				src="pictures/scheme/dark.jpg"
				alt="Moon in the dark sky."
			>
		</a>
	</section>

	<section class="slide">
		<h2>Preferences</h2>
		<pre style="font-size: 22px">
			<code>&lt;link rel="stylesheet" href="<mark>light.css</mark>"</code>
			<code>      media="(prefers-color-scheme: light)"&gt;</code>
			<code>&lt;link rel="stylesheet" href="<mark>dark.css</mark>"</code>
			<code>      media="(prefers-color-scheme: dark)"&gt;</code>
			<code>&lt;link rel="stylesheet" href="<mark>index.css</mark>"&gt;</code>
		</pre>
	</section>

	<section class="slide">
		<h2>Preferences</h2>
		<pre style="font-size: 22px">
			<code>&lt;link rel="stylesheet" href="light.css"</code>
			<code>      media="<mark>(prefers-color-scheme: light)</mark>"&gt;</code>
			<code>&lt;link rel="stylesheet" href="dark.css"</code>
			<code>      media="<mark>(prefers-color-scheme: dark)</mark>"&gt;</code>
			<code>&lt;link rel="stylesheet" href="index.css"&gt;</code>
		</pre>
	</section>

	<section class="slide">
		<h2>Preferences</h2>
		<pre class="next">
			<code>&lt;link rel="stylesheet" href="retina.css"</code>
			<code>      media="<mark>(min-resolution: 2dppx)</mark>"&gt;</code>
		</pre>
		<pre class="next">
			<code>&lt;link rel="stylesheet" href="animation.css"</code>
			<code>      media="<mark>(prefers-reduced-motion: no-preference)</mark>"&gt;</code>
		</pre>
	</section>

	<section class="slide clear">
		<h2 class="shout">Tools?</h2>
	</section>

	<section class="slide">
		<ul class="place" style="font-size: 50px; white-space: nowrap">
			<li><a href="https://github.com/SassNinja/media-query-plugin">Media Query plugin for Webpack</a></li>
			<li><a href="https://github.com/SassNinja/postcss-extract-media-query">Extract MQ plugin for PostCSS</a></li>
		</ul>
	</section>

	<section class="slide clear">
		<img
			class="cover"
			src="pictures/article.png"
			alt="Screenshot of the article."
		>
	</section>

	<section class="slide">
		<div class="columns two">
			<div>
				<h2>Article</h2>
				<a href="https://pepelsbey.dev/articles/conditionally-adaptive/">
					<img
						src="pictures/qr/article.svg"
						width="300"
						alt="QR code for the article."
						style="display: block"
					>
				</a>
			</div>
			<div>
				<h2>WebKit bug</h2>
				<a href="https://bugs.webkit.org/show_bug.cgi?id=243424">
					<img
						src="pictures/qr/webkit.svg"
						width="300"
						alt="QR code."
						style="display: block"
					>
				</a>
			</div>
		</div>
	</section>

	<section class="slide clear">
		<h2 class="shout" style="font-size: 120px">
			<a href="https://twitter.com/pepelsbey_dev">@pepelsbey_dev</a>
		</h2>
	</section>

	<footer class="badge">
		<a href="https://github.com/shower/shower">Powered by Shower</a>
	</footer>

	<section class="slide black clear" style="
		background-image: url(pictures/covers/outro.webp);
		background-position: center;
		background-size: cover;
		image-rendering: pixelated;
	">
		<h2 class="shout" style="
			color: white;
			text-shadow: 10px 10px 0 rgba(0 0 0 / 0.4);
			font-size: 120px;
		">
			Thank you!
		</h2>
		<p class="copyright white">
			<a href="https://kldpxl.tumblr.com/post/687225479681490944/sunny-afternoon">
				© Khaled
			</a>
		</p>
	</section>

	<div class="progress"></div>
</body>
</html>
